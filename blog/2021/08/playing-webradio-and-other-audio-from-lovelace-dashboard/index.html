<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content="DezeStijn"><meta name=description content="Starting live webradio or any audio stream on your smart speakers via your Lovelace dashboard"><meta name=keywords content="Sequr,blog,writeup,CTF,challenge,machine,infosec,IT security,hacking,pentesting,cybersecurity,Home Automation,Lovelace,Webradio,Smart speaker"><meta name=robots content="noodp"><meta name=theme-color content="#252627"><link rel=canonical href=https://sequr.be/blog/2021/08/playing-webradio-and-other-audio-from-lovelace-dashboard/><title>Playing webradio (and other audio) from Lovelace dashboard :: Sequr</title><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css integrity="sha512-Cv93isQdFwaKBV+Z4X8kaVBYWHST58Xb/jVOcV9aRsGSArZsgAnFIhMpDoMDcFNoUtday1hdjn0nGp3+KZyyFw==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://sequr.be/main.2a064c455b0ecbd6b1481b3bf9df2441e95838691022f40a5338c2cb1244f075.css integrity="sha256-KgZMRVsOy9axSBs7+d8kQelYOGkQIvQKUzjCyxJE8HU="><link rel=stylesheet type=text/css href=https://sequr.be/css/table.css><link rel=stylesheet type=text/css href=https://sequr.be/css/menu.css><link rel=apple-touch-icon sizes=180x180 href=https://sequr.be/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://sequr.be/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://sequr.be/favicon-16x16.png><link rel=manifest href=https://sequr.be/site.webmanifest><link rel=mask-icon href=https://sequr.be/safari-pinned-tab.svg color><link rel="shortcut icon" href=https://sequr.be/favicon.ico><meta name=msapplication-TileColor content><meta itemprop=name content="Playing webradio (and other audio) from Lovelace dashboard"><meta itemprop=description content="Starting live webradio or any audio stream on your smart speakers via your Lovelace dashboard"><meta itemprop=datePublished content="2021-08-14T00:00:00+01:00"><meta itemprop=dateModified content="2021-08-14T00:00:00+01:00"><meta itemprop=wordCount content="1200"><meta itemprop=image content="https://sequr.be/blog/2021/08/playing-webradio-and-other-audio-from-lovelace-dashboard/cover.png"><meta itemprop=keywords content="Home Automation,Lovelace,Webradio,Smart speaker,"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://sequr.be/blog/2021/08/playing-webradio-and-other-audio-from-lovelace-dashboard/cover.png"><meta name=twitter:title content="Playing webradio (and other audio) from Lovelace dashboard"><meta name=twitter:description content="Starting live webradio or any audio stream on your smart speakers via your Lovelace dashboard"><meta property="article:section" content="Home Automation"><meta property="article:published_time" content="2021-08-14 00:00:00 +0100 +0100"></head><body><div class=container><header class=header><span class=header__inner><a href=https://sequr.be/ style=text-decoration:none><div class=logo><span class=logo__mark>$</span>
<span class=logo__text>nc sequr.be 1337</span>
<span class=logo__cursor style=background-color:#e68101></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=https://sequr.be/blog/>Blog</a></li><li><a href=https://sequr.be/about/>About</a></li><li><a href=https://sequr.be/shoppinglist/>Shopping</a></li><li><a href=https://sequr.be/privacy/>Privacy</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span><span class="theme-toggle not-selectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 41c10.4934.0 19-8.5066 19-19C41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>6 minutes
| Also available in
<a href=https://sequr.be/nl/blog/2021/08/webradio-lanceren-vanaf-lovelace-dashboard/><span class="flag flag-icon flag-icon-nl flag-icon-squared"></span></a></p></div><article><h1 class=post-title><a href=https://sequr.be/blog/2021/08/playing-webradio-and-other-audio-from-lovelace-dashboard/>Playing webradio (and other audio) from Lovelace dashboard</a></h1><hr><aside id=toc><div class=toc-title>Table of Contents</div><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#set-up>Set-up</a><ul><li><a href=#helpers>Helpers</a><ul><li><a href=#radio-station-dropdown>Radio station dropdown</a></li><li><a href=#custom-url-textbox>Custom URL textbox</a></li></ul></li><li><a href=#scripts>Scripts</a><ul><li><a href=#play-from-dropdown>Play from dropdown</a></li><li><a href=#play-custom-url>Play custom URL</a></li></ul></li><li><a href=#lovelace-dashboard>Lovelace Dashboard</a></li></ul></li><li><a href=#complete-code>Complete code</a></li></ul></nav></aside><hr><div class=post-content><h2 id=introduction>Introduction <a href=#introduction>¶</a></h2><p>One of the nice things about smart speakers is that they can play audio from a wide variety of sources.
Combine this with Home Assistant and you have yourself a webradio and custom audio dashboard :)</p><p>This blog post will explain my setup and will provide you with the code and pointers needed to build your own version of it.</p><figure class=center><img src=ha-webradio.png alt="Screenshot of webradio dashboard"><figcaption class=center>Webradio control center</figcaption></figure><p>Note that I&rsquo;m setting this all up in YAML.
Helpers like the dropdown and textbox can also be created using the UI.
At the end of this blog posts, it&rsquo;ll become clear why I&rsquo;m doing everything in YAML.</p><h2 id=set-up>Set-up <a href=#set-up>¶</a></h2><p>To set everything up, we&rsquo;ll need some helpers that&rsquo;ll provide a dropdown and a textbox, some scripts, and some Lovelace elements.</p><p>Let&rsquo;s go through each part step-by-step.
I&rsquo;ll provide the full code at the end of this blogpost.</p><h3 id=helpers>Helpers <a href=#helpers>¶</a></h3><p>These helpers will provide the dropdown selection of radio stations and a text field to enter our own URLs into.</p><p>Feel free to adapt the list of radio stations to your choosing.
Finding the correct URL is often the hardest part.
Check if your favorite station has a web player and whether you can extract the URL of the stream from the address bar or the network requests.
There are also online services that will provide you with streams for lots of webradio stations.</p><h4 id=radio-station-dropdown>Radio station dropdown <a href=#radio-station-dropdown>¶</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>input_select</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>radio_station</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;Pick station&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>icon</span><span class=p>:</span><span class=w> </span><span class=l>mdi:radio</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>initial</span><span class=p>:</span><span class=w> </span><span class=l>VRT Studio Brussel</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>options</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>VRT Radio 1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>VRT Studio Brussel</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>VRT MNM</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>VRT NWS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>Topradio</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>Qmusic</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>VBRO</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>Willy Radio</span><span class=w>
</span></span></span></code></pre></div><h4 id=custom-url-textbox>Custom URL textbox <a href=#custom-url-textbox>¶</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>input_text</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>url</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>URL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>min</span><span class=p>:</span><span class=w> </span><span class=m>10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>max</span><span class=p>:</span><span class=w> </span><span class=m>255</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>icon</span><span class=p>:</span><span class=w> </span><span class=l>mdi:web</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=l>text</span><span class=w>
</span></span></span></code></pre></div><h3 id=scripts>Scripts <a href=#scripts>¶</a></h3><h4 id=play-from-dropdown>Play from dropdown <a href=#play-from-dropdown>¶</a></h4><p>The code below will be called by a button on our dashboard and will play the station that&rsquo;s selected in the dropdown.</p><p>Optionally, it will also provide an image (the logo of the radio station) to be displayed on our Lovelace dashboard while playing.
For this you&rsquo;ll need to download the logos or images you want and store them in (a subfolder of) <code>/config/www/</code> which will be referenced as <code>/local/</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>script</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>play_radio</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>alias</span><span class=p>:</span><span class=w> </span><span class=l>Play radio</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>icon</span><span class=p>:</span><span class=w> </span><span class=l>mdi:play</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Play web radio on smart speaker</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=l>restart</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>sequence</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>service</span><span class=p>:</span><span class=w> </span><span class=l>media_player.volume_set</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>data</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>entity_id</span><span class=p>:</span><span class=w> </span><span class=l>media_player.livingroom</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>volume_level</span><span class=p>:</span><span class=w> </span><span class=m>0.10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>service</span><span class=p>:</span><span class=w> </span><span class=l>media_player.play_media</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>data</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>entity_id</span><span class=p>:</span><span class=w> </span><span class=l>media_player.livingroom</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>media_content_type</span><span class=p>:</span><span class=w> </span><span class=l>music</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>media_content_id</span><span class=p>:</span><span class=w> </span><span class=p>&gt;</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>            {%- set station = states(&#39;input_select.radio_station&#39;) -%}
</span></span></span><span class=line><span class=cl><span class=sd>            {% if station == &#34;VRT Radio 1&#34; %} http://icecast.vrtcdn.be/radio1-high.mp3
</span></span></span><span class=line><span class=cl><span class=sd>            {% elif station == &#34;VRT Studio Brussel&#34; %} http://icecast.vrtcdn.be/stubru-high.mp3
</span></span></span><span class=line><span class=cl><span class=sd>            {% elif station == &#34;VRT Studio Brussel - #ikluisterbelgisch&#34; %} http://icecast.vrtcdn.be/stubru_tgs-high.mp3
</span></span></span><span class=line><span class=cl><span class=sd>            {% elif station == &#34;VRT MNM&#34; %} http://icecast.vrtcdn.be/mnm-high.mp3
</span></span></span><span class=line><span class=cl><span class=sd>            {% elif station == &#34;VRT NWS&#34; %} http://progressive-audio.lwc.vrtcdn.be/content/fixed/11_11niws-snip_hi.mp3
</span></span></span><span class=line><span class=cl><span class=sd>            {% elif station == &#34;Topradio&#34; %} https://str.topradio.be/topradio.mp3
</span></span></span><span class=line><span class=cl><span class=sd>            {% elif station == &#34;Qmusic&#34; %} https://21293.live.streamtheworld.com/QMUSIC.mp3
</span></span></span><span class=line><span class=cl><span class=sd>            {% elif station == &#34;VBRO&#34; %} https://radiohuis.com/VBRO
</span></span></span><span class=line><span class=cl><span class=sd>            {% elif station == &#34;Willy Radio&#34; %} http://20723.live.streamtheworld.com/WILLY.mp3
</span></span></span><span class=line><span class=cl><span class=sd>            {% endif %}</span><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>extra</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>thumb</span><span class=p>:</span><span class=w> </span><span class=p>&gt;</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>              {%- set station = states(&#39;input_select.radio_station&#39;) -%}
</span></span></span><span class=line><span class=cl><span class=sd>              {% if &#39;Studio Brussel&#39; in station %}  https://&lt;your_HA_URL&gt;/local/img/logo/logo_stubru.svg
</span></span></span><span class=line><span class=cl><span class=sd>              {% elif &#39;MNM&#39; in station %} https://&lt;your_HA_URL&gt;/local/img/logo/logo_mnm.svg
</span></span></span><span class=line><span class=cl><span class=sd>              {% elif &#39;NWS&#39; in station %} https://&lt;your_HA_URL&gt;/local/img/logo/logo_vrtnws.svg
</span></span></span><span class=line><span class=cl><span class=sd>              {% elif station[:3] == &#34;VRT&#34; %} https://&lt;your_HA_URL&gt;/local/img/logo/logo_vrt.svg
</span></span></span><span class=line><span class=cl><span class=sd>              {% elif station == &#34;Topradio&#34; %} https://&lt;your_HA_URL&gt;/local/img/logo/logo_topradio.svg
</span></span></span><span class=line><span class=cl><span class=sd>              {% elif station == &#34;Qmusic&#34; %} https://&lt;your_HA_URL&gt;/local/img/logo/logo_qmusic.svg
</span></span></span><span class=line><span class=cl><span class=sd>              {% elif station == &#34;VBRO&#34; %} https://&lt;your_HA_URL&gt;/local/img/logo/logo_vbro.png
</span></span></span><span class=line><span class=cl><span class=sd>              {% elif station == &#34;Willy Radio&#34; %} https://&lt;your_HA_URL&gt;/local/img/logo/logo_willy.svg
</span></span></span><span class=line><span class=cl><span class=sd>              {% endif %}</span><span class=w>              
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>stream_type</span><span class=p>:</span><span class=w> </span><span class=l>LIVE</span><span class=w>
</span></span></span></code></pre></div><h4 id=play-custom-url>Play custom URL <a href=#play-custom-url>¶</a></h4><p>For this script we&rsquo;ll also need the <code>media_extractor</code> <a href=https://www.home-assistant.io/integrations/media_extractor/ title="Media Extractor integration" target=_blank rel=noopener>integration</a>.
This uses <code>youtube_dl</code> to extract the audio stream from the video/stream/audoclip/&mldr; you give it.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>media_extractor</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>script</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>play_media_url</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>alias</span><span class=p>:</span><span class=w> </span><span class=l>Play media from URL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=l>single</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>icon</span><span class=p>:</span><span class=w> </span><span class=l>mdi:music-box-multiple-outline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>sequence</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>service</span><span class=p>:</span><span class=w> </span><span class=l>media_player.media_stop</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>target</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>entity_id</span><span class=p>:</span><span class=w> </span><span class=l>media_player.livingroom</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>service</span><span class=p>:</span><span class=w> </span><span class=l>media_player.volume_set</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>data</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>entity_id</span><span class=p>:</span><span class=w> </span><span class=l>media_player.livingroom</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>volume_level</span><span class=p>:</span><span class=w> </span><span class=m>0.10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>service</span><span class=p>:</span><span class=w> </span><span class=l>media_extractor.play_media</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>data</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>media_content_type</span><span class=p>:</span><span class=w> </span><span class=l>MUSIC</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>media_content_id</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ states(&#39;input_text.url&#39;) }}&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>target</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>entity_id</span><span class=p>:</span><span class=w> </span><span class=l>media_player.livingroom</span><span class=w>
</span></span></span></code></pre></div><h3 id=lovelace-dashboard>Lovelace Dashboard <a href=#lovelace-dashboard>¶</a></h3><p>You can design your dashboard anyway you like.</p><p>I chose to use the <a href=https://github.com/kalkih/mini-media-player title="Mini Media Player on Github" target=_blank rel=noopener>Mini Media Player</a> custom card to display what&rsquo;s playing on my smart speaker.
You can find it on <a href=https://hacs.xyz/ title="Home Assistant Community Store" target=_blank rel=noopener>HACS</a>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>vertical-stack</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>cards</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>custom:mini-media-player</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>group</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>artwork</span><span class=p>:</span><span class=w> </span><span class=l>cover</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>source</span><span class=p>:</span><span class=w> </span><span class=l>full</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>sound_mode</span><span class=p>:</span><span class=w> </span><span class=l>full</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>info</span><span class=p>:</span><span class=w> </span><span class=l>short</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Living Room</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>idle_view</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>when_idle</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>entity</span><span class=p>:</span><span class=w> </span><span class=l>media_player.livingroom</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>entities</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>entities</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>entity</span><span class=p>:</span><span class=w> </span><span class=l>input_select.radio_station</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>station</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>entity</span><span class=p>:</span><span class=w> </span><span class=l>script.play_radio</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>tap_action</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>action</span><span class=p>:</span><span class=w> </span><span class=l>call-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>service</span><span class=p>:</span><span class=w> </span><span class=l>script.turn_on</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>service_data</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>entity_id</span><span class=p>:</span><span class=w> </span><span class=l>script.play_radio</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>entities</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>entities</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>entity</span><span class=p>:</span><span class=w> </span><span class=l>input_text.url</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>URL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>entity</span><span class=p>:</span><span class=w> </span><span class=l>script.play_media_url</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>tap_action</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>action</span><span class=p>:</span><span class=w> </span><span class=l>call-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>service</span><span class=p>:</span><span class=w> </span><span class=l>script.turn_on</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>service_data</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>entity_id</span><span class=p>:</span><span class=w> </span><span class=l>script.play_media_url</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>icon</span><span class=p>:</span><span class=w> </span><span class=l>mdi:play</span><span class=w>
</span></span></span></code></pre></div><h2 id=complete-code>Complete code <a href=#complete-code>¶</a></h2><p>Below you&rsquo;ll find the complete code for this blog post.</p><p>The reason I chose to define everything in YAML, including the helpers, is because I&rsquo;ve split up my config in <a href=https://www.home-assistant.io/docs/configuration/packages/ title=Packages target=_blank rel=noopener>packages</a>.
This allows me to group to bundle related configurations together, making it easier to find all components.</p><p>If you don&rsquo;t want to use packages, just move the code snippets to the relevant configurations (e.g. <code>scripts.yaml</code>).</p><p><strong>configuration.yaml</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>homeassistant</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>packages</span><span class=p>:</span><span class=w> </span>!<span class=l>include_dir_merge_named packages/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Decided to keep this here as multiple packages may use this single integration</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>media_extractor</span><span class=p>:</span><span class=w>
</span></span></span></code></pre></div><p><strong>packages/mediaplayers/media_url.yaml</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Play custom audio stream on smart speaker(s)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>#</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># https://www.home-assistant.io/integrations/media_extractor/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># https://www.home-assistant.io/integrations/input_text/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>#</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>media_url</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>play_media_url</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>alias</span><span class=p>:</span><span class=w> </span><span class=l>Play media from URL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=l>single</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>icon</span><span class=p>:</span><span class=w> </span><span class=l>mdi:music-box-multiple-outline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>sequence</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>service</span><span class=p>:</span><span class=w> </span><span class=l>media_player.media_stop</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>target</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>entity_id</span><span class=p>:</span><span class=w> </span><span class=l>media_player.livingroom</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>service</span><span class=p>:</span><span class=w> </span><span class=l>media_player.volume_set</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>data</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>entity_id</span><span class=p>:</span><span class=w> </span><span class=l>media_player.livingroom</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>volume_level</span><span class=p>:</span><span class=w> </span><span class=m>0.10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>service</span><span class=p>:</span><span class=w> </span><span class=l>media_extractor.play_media</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>data</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>media_content_type</span><span class=p>:</span><span class=w> </span><span class=l>MUSIC</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>media_content_id</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;{{ states(&#39;input_text.url&#39;) }}&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>target</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>entity_id</span><span class=p>:</span><span class=w> </span><span class=l>media_player.livingroom</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>input_text</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>url</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>URL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>min</span><span class=p>:</span><span class=w> </span><span class=m>10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>max</span><span class=p>:</span><span class=w> </span><span class=m>255</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>icon</span><span class=p>:</span><span class=w> </span><span class=l>mdi:web</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=l>text</span><span class=w>
</span></span></span></code></pre></div><p><strong>packages/mediaplayers/webradio.yaml</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Play webradio on smart speaker(s)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>#</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Based on https://community.home-assistant.io/t/chromecast-radio-with-station-and-player-selection/12732</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>#</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># https://www.home-assistant.io/integrations/media_player</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># https://www.home-assistant.io/integrations/input_select/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>#</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>webradio</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>play_radio</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>alias</span><span class=p>:</span><span class=w> </span><span class=l>Play radio</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>icon</span><span class=p>:</span><span class=w> </span><span class=l>mdi:play</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Play web radio on Chromecast</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=l>restart</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>sequence</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>service</span><span class=p>:</span><span class=w> </span><span class=l>media_player.volume_set</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>data</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>entity_id</span><span class=p>:</span><span class=w> </span><span class=l>media_player.livingroom</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>volume_level</span><span class=p>:</span><span class=w> </span><span class=m>0.10</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>service</span><span class=p>:</span><span class=w> </span><span class=l>media_player.play_media</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>data</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>entity_id</span><span class=p>:</span><span class=w> </span><span class=l>media_player.livingroom</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>media_content_type</span><span class=p>:</span><span class=w> </span><span class=l>music</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>media_content_id</span><span class=p>:</span><span class=w> </span><span class=p>&gt;</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>              {%- set station = states(&#39;input_select.radio_station&#39;) -%}
</span></span></span><span class=line><span class=cl><span class=sd>              {% if station == &#34;VRT Radio 1&#34; %} http://icecast.vrtcdn.be/radio1-high.mp3
</span></span></span><span class=line><span class=cl><span class=sd>              {% elif station == &#34;VRT Studio Brussel&#34; %} http://icecast.vrtcdn.be/stubru-high.mp3
</span></span></span><span class=line><span class=cl><span class=sd>              {% elif station == &#34;VRT Studio Brussel - #ikluisterbelgisch&#34; %} http://icecast.vrtcdn.be/stubru_tgs-high.mp3
</span></span></span><span class=line><span class=cl><span class=sd>              {% elif station == &#34;VRT MNM&#34; %} http://icecast.vrtcdn.be/mnm-high.mp3
</span></span></span><span class=line><span class=cl><span class=sd>              {% elif station == &#34;VRT NWS&#34; %} http://progressive-audio.lwc.vrtcdn.be/content/fixed/11_11niws-snip_hi.mp3
</span></span></span><span class=line><span class=cl><span class=sd>              {% elif station == &#34;Topradio&#34; %} https://str.topradio.be/topradio.mp3
</span></span></span><span class=line><span class=cl><span class=sd>              {% elif station == &#34;Qmusic&#34; %} https://21293.live.streamtheworld.com/QMUSIC.mp3
</span></span></span><span class=line><span class=cl><span class=sd>              {% elif station == &#34;VBRO&#34; %} https://radiohuis.com/VBRO
</span></span></span><span class=line><span class=cl><span class=sd>              {% elif station == &#34;Willy Radio&#34; %} http://20723.live.streamtheworld.com/WILLY.mp3
</span></span></span><span class=line><span class=cl><span class=sd>              {% endif %}</span><span class=w>              
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>extra</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>thumb</span><span class=p>:</span><span class=w> </span><span class=p>&gt;</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>                {%- set station = states(&#39;input_select.radio_station&#39;) -%}
</span></span></span><span class=line><span class=cl><span class=sd>                {% if &#39;Studio Brussel&#39; in station %}  https://&lt;my_homeassistant&gt;/local/img/logo/logo_stubru.svg
</span></span></span><span class=line><span class=cl><span class=sd>                {% elif &#39;MNM&#39; in station %} https://&lt;my_homeassistant&gt;/local/img/logo/logo_mnm.svg
</span></span></span><span class=line><span class=cl><span class=sd>                {% elif &#39;NWS&#39; in station %} https://&lt;my_homeassistant&gt;/local/img/logo/logo_vrtnws.svg
</span></span></span><span class=line><span class=cl><span class=sd>                {% elif station[:3] == &#34;VRT&#34; %} https://&lt;my_homeassistant&gt;/local/img/logo/logo_vrt.svg
</span></span></span><span class=line><span class=cl><span class=sd>                {% elif station == &#34;Topradio&#34; %} https://&lt;my_homeassistant&gt;/local/img/logo/logo_topradio.svg
</span></span></span><span class=line><span class=cl><span class=sd>                {% elif station == &#34;Qmusic&#34; %} https://&lt;my_homeassistant&gt;/local/img/logo/logo_qmusic.svg
</span></span></span><span class=line><span class=cl><span class=sd>                {% elif station == &#34;VBRO&#34; %} https://&lt;my_homeassistant&gt;/local/img/logo/logo_vbro.png
</span></span></span><span class=line><span class=cl><span class=sd>                {% elif station == &#34;Willy Radio&#34; %} https://&lt;my_homeassistant&gt;/local/img/logo/logo_willy.svg
</span></span></span><span class=line><span class=cl><span class=sd>                {% endif %}</span><span class=w>                
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>stream_type</span><span class=p>:</span><span class=w> </span><span class=l>LIVE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>input_select</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>radio_station</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;Kies radiostation&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>icon</span><span class=p>:</span><span class=w> </span><span class=l>mdi:radio</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>initial</span><span class=p>:</span><span class=w> </span><span class=l>VRT Studio Brussel</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>options</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>VRT Radio 1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>VRT Studio Brussel</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=s2>&#34;VRT Studio Brussel - #ikluisterbelgisch&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>VRT MNM</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>VRT NWS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>Topradio</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>Qmusic</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>Topradio</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>VBRO</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>Willy Radio</span><span class=w>
</span></span></span></code></pre></div><p><strong>Lovelace dashboard</strong></p><p>Add new card > Manual.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>vertical-stack</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>cards</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>custom:mini-media-player</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>group</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>artwork</span><span class=p>:</span><span class=w> </span><span class=l>cover</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>source</span><span class=p>:</span><span class=w> </span><span class=l>full</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>sound_mode</span><span class=p>:</span><span class=w> </span><span class=l>full</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>info</span><span class=p>:</span><span class=w> </span><span class=l>short</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Living Room</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>idle_view</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>when_idle</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>entity</span><span class=p>:</span><span class=w> </span><span class=l>media_player.livingroom</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>entities</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>entities</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>entity</span><span class=p>:</span><span class=w> </span><span class=l>input_select.radio_station</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>station</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>entity</span><span class=p>:</span><span class=w> </span><span class=l>script.play_radio</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>tap_action</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>action</span><span class=p>:</span><span class=w> </span><span class=l>call-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>service</span><span class=p>:</span><span class=w> </span><span class=l>script.turn_on</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>service_data</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>entity_id</span><span class=p>:</span><span class=w> </span><span class=l>script.play_radio</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>entities</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>entities</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>entity</span><span class=p>:</span><span class=w> </span><span class=l>input_text.url</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>URL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>entity</span><span class=p>:</span><span class=w> </span><span class=l>script.play_media_url</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>tap_action</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>action</span><span class=p>:</span><span class=w> </span><span class=l>call-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>service</span><span class=p>:</span><span class=w> </span><span class=l>script.turn_on</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>service_data</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>entity_id</span><span class=p>:</span><span class=w> </span><span class=l>script.play_media_url</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>icon</span><span class=p>:</span><span class=w> </span><span class=l>mdi:play</span><span class=w>
</span></span></span></code></pre></div><p>Enjoy playing your favourite radio station on your smart speakers!</p></div></article><hr><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=tag><a href=https://sequr.be/tags/home-automation/>Home Automation</a></span>
<span class=tag><a href=https://sequr.be/tags/lovelace/>Lovelace</a></span>
<span class=tag><a href=https://sequr.be/tags/webradio/>Webradio</a></span>
<span class=tag><a href=https://sequr.be/tags/smart-speaker/>Smart speaker</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/></svg><span class=tag><a href=https://sequr.be/categories/home-automation/>Home Automation</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>1200 Words</p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>2021-08-13</p></div><hr><div class=sharing-buttons><a class=resp-sharing-button__link href=https://ko-fi.com/s4squatch target=_blank rel=noopener aria-label title="Buy me a coffee"><div class="resp-sharing-button resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentcolor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M23.881 8.948c-.773-4.085-4.859-4.593-4.859-4.593H.723c-.604.0-.679.798-.679.798s-.082 7.324-.022 11.822c.164 2.424 2.586 2.672 2.586 2.672s8.267-.023 11.966-.049c2.438-.426 2.683-2.566 2.658-3.734 4.352.24 7.422-2.831 6.649-6.916zm-11.062 3.511c-1.246 1.453-4.011 3.976-4.011 3.976s-.121.119-.31.023c-.076-.057-.108-.09-.108-.09-.443-.441-3.368-3.049-4.034-3.954-.709-.965-1.041-2.7-.091-3.71.951-1.01 3.005-1.086 4.363.407.0.0 1.565-1.782 3.468-.963 1.904.82 1.832 3.011.723 4.311zm6.173.478c-.928.116-1.682.028-1.682.028V7.284h1.77s1.971.551 1.971 2.638c0 1.913-.985 2.667-2.059 3.015z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fsequr.be%2fblog%2f2021%2f08%2fplaying-webradio-and-other-audio-from-lovelace-dashboard%2f" target=_blank rel=noopener aria-label title="Share on facebook"><div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://twitter.com/intent/tweet/?url=https%3a%2f%2fsequr.be%2fblog%2f2021%2f08%2fplaying-webradio-and-other-audio-from-lovelace-dashboard%2f" target=_blank rel=noopener aria-label title="Share on twitter"><div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://reddit.com/submit/?url=https%3a%2f%2fsequr.be%2fblog%2f2021%2f08%2fplaying-webradio-and-other-audio-from-lovelace-dashboard%2f&amp;resubmit=true&amp;title=Playing%20webradio%20%28and%20other%20audio%29%20from%20Lovelace%20dashboard" target=_blank rel=noopener aria-label title="Share on reddit"><div class="resp-sharing-button resp-sharing-button--reddit resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentcolor" stroke="none"><path d="M12 0A12 12 0 000 12a12 12 0 0012 12 12 12 0 0012-12A12 12 0 0012 0zm5.01 4.744c.688.0 1.25.561 1.25 1.249a1.25 1.25.0 01-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968.0 1.754.786 1.754 1.754.0.716-.435 1.333-1.01 1.614a3.111 3.111.0 01.042.52c0 2.694-3.13 4.87-7.004 4.87s-7.004-2.176-7.004-4.87c0-.183.015-.366.043-.534A1.748 1.748.0 014.028 12c0-.968.786-1.754 1.754-1.754.463.0.898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342.0 01.14-.197.35.35.0 01.238-.042l2.906.617a1.214 1.214.0 011.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687.0 1.248-.561 1.248-1.249S9.937 12 9.249 12zm5.5.0c-.687.0-1.248.561-1.248 1.25.0.687.561 1.248 1.249 1.248S16 13.937 16 13.249c0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327.0 00-.231.094.33.33.0 000 .463c.842.842 2.484.913 2.961.913s2.105-.056 2.961-.913a.361.361.0 00.029-.463.33.33.0 00-.464.0c-.547.533-1.684.73-2.512.73-.828.0-1.979-.196-2.512-.73a.326.326.0 00-.232-.095z"/></svg></div></div></a><a class=resp-sharing-button__link href="whatsapp://send?text=Playing%20webradio%20%28and%20other%20audio%29%20from%20Lovelace%20dashboard%20https%3a%2f%2fsequr.be%2fblog%2f2021%2f08%2fplaying-webradio-and-other-audio-from-lovelace-dashboard%2f" target=_blank rel=noopener aria-label title="Share on whatsapp"><div class="resp-sharing-button resp-sharing-button--whatsapp resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentcolor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198.0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479.0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87.0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86.0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64.0 5.122 1.03 6.988 2.898a9.825 9.825.0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815.0 0012.05.0C5.495.0.16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882.0 005.683 1.448h.005c6.554.0 11.89-5.335 11.893-11.893a11.821 11.821.0 00-3.48-8.413z"/></svg></div></div></a></div><div class=pagination><div class=pagination__buttons><span class="button previous"><a href=https://sequr.be/blog/2021/08/monitoring-electricity-consumption-and-production-with-shelly-3em-and-home-assistants-energy-dashboard/><span class=button__icon>←</span>
<span class=button__text>Monitoring electricity consumption and production with Shelly 3EM and Home Assistant's Energy Dashboard</span></a></span>
<span class="button next"><a href=https://sequr.be/blog/2021/08/migrating-from-hdd-to-ssd/><span class=button__text>Migrating from HDD to SSD</span>
<span class=button__icon>→</span></a></span></div></div></main></div><footer class=footer><div class=footer__inner><div class=footer__content><span>&copy; 2019-2023</span>
<span><a href=https://sequr.be>DezeStijn</a></span>
<span><a href=https://sequr.be/blog/index.xml target=_blank title=rss><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></span></div></div><div class=footer__inner><div class=footer__content><small><span>Powered by <a href=http://gohugo.io>Hugo</a>.</span>
<span>Made with &#10084; by <a href=https://github.com/rhazdon>Djordje Atlialp</a></span><br><span>Deployed using <a href=https://github.com/TheGroundZero/TheGroundZero.github.io/ title=TheGroundZero/TheGroundZero.github.io>GitHub Pages</a></span></small></div></div></footer></div><script type=text/javascript src=https://sequr.be/bundle.min.c90b8161416b87c69a8e02683b54ddd6edb90aea699648bf655e6cbc45b419b8e465d196e715772463dba35a6faf5decb2eb247480d38680484d54645b434570.js integrity="sha512-yQuBYUFrh8aajgJoO1Td1u25Cupplki/ZV5svEW0GbjkZdGW5xV3JGPbo1pvr13ssuskdIDThoBITVRkW0NFcA=="></script></body></html>