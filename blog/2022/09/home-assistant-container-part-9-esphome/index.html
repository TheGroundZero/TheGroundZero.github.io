<!doctype html><html lang=en><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content="DezeStijn"><meta name=description content="In this ninth part of the Home Assistant Container series we&rsquo;ll add ESPHome to our Home Assistant Container install"><meta name=keywords content="Sequr,blog,writeup,CTF,challenge,machine,infosec,IT security,hacking,pentesting,cybersecurity,Home Automation,Home Assistant,Container,Docker,ESPHome"><meta name=robots content="noodp"><meta name=theme-color content="#252627"><link rel=canonical href=https://sequr.be/blog/2022/09/home-assistant-container-part-9-esphome/><title>Home Assistant Container Part 9: ESPHome :: Sequr
</title><link rel=stylesheet href=https://sequr.be/main.min.244183cde1a38e0b08f82c11791181288f9aac1cc9618cd6f4e9e7710c5768ba.css integrity="sha256-JEGDzeGjjgsI+CwReRGBKI+arBzJYYzW9OnncQxXaLo=" crossorigin=anonymous><link rel=stylesheet type=text/css href=https://sequr.be/css/table.css><link rel=stylesheet type=text/css href=https://sequr.be/css/menu.css><link rel=stylesheet type=text/css href=https://sequr.be/css/background.css><link rel=apple-touch-icon sizes=180x180 href=https://sequr.be/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://sequr.be/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://sequr.be/favicon-16x16.png><link rel=manifest href=https://sequr.be/site.webmanifest><link rel=mask-icon href=https://sequr.be/safari-pinned-tab.svg color><link rel="shortcut icon" href=https://sequr.be/favicon.ico><meta name=msapplication-TileColor content><meta itemprop=name content="Home Assistant Container Part 9: ESPHome"><meta itemprop=description content="In this ninth part of the Home Assistant Container series we’ll add ESPHome to our Home Assistant Container install"><meta itemprop=datePublished content="2022-09-15T00:00:00+00:00"><meta itemprop=dateModified content="2022-10-04T00:00:00+00:00"><meta itemprop=wordCount content="1006"><meta itemprop=image content="https://sequr.be/blog/2022/09/home-assistant-container-part-9-esphome/cover.png"><meta itemprop=keywords content="Home Automation,Home Assistant,Container,Docker,ESPHome"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://sequr.be/blog/2022/09/home-assistant-container-part-9-esphome/cover.png"><meta name=twitter:title content="Home Assistant Container Part 9: ESPHome"><meta name=twitter:description content="In this ninth part of the Home Assistant Container series we’ll add ESPHome to our Home Assistant Container install"><meta property="article:section" content="Home Automation"><meta property="article:section" content="HA Container"><meta property="article:published_time" content="2022-09-15 00:00:00 +0000 UTC"><link rel=webmention href=https://webmention.io/sequr.be/webmention></head><body><div class=container><header class=header><span class=header__inner><a href=https://sequr.be/ style=text-decoration:none><div class=logo><span class=logo__mark>$</span>
<span class=logo__text>lynx sequr.be</span>
<span class=logo__cursor style=background-color:#e68101></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=https://sequr.be/about/>About</a></li><li><a href=https://sequr.be/blog/>Blog</a></li><li><a href=https://sequr.be/privacy/>Privacy</a></li><li><a href=https://sequr.be/shoppinglist/>Shopping</a></li></ul></nav><span class=menu-trigger><svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
</span><span class="theme-toggle not-selectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none"><path d="M22 41c10.4934.0 19-8.5066 19-19C41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><main class="post h-entry"><div class=post-info><p><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
5 minutes</p></div><article><h1 class="post-title p-name"><a href=https://sequr.be/blog/2022/09/home-assistant-container-part-9-esphome/ class=u-url>Home Assistant Container Part 9: ESPHome</a></h1><hr><aside id=toc><div class=toc-title>Table of Contents</div><nav id=TableOfContents><ul><li><a href=#intro>Intro</a></li><li><a href=#install-esphome-container>Install ESPHome container</a><ul><li><a href=#docker-compose>Docker-compose</a></li><li><a href=#start-and-access-esphome>Start and access ESPHome</a></li></ul></li><li><a href=#home-assistant-sidebar>Home Assistant Sidebar</a></li><li><a href=#connecting-and-flashing-a-device>Connecting and flashing a device</a><ul><li><a href=#connecting-the-device-to-our-esphome-container>Connecting the device to our ESPHome container</a><ul><li><a href=#identify-the-device>Identify the device</a></li><li><a href=#forward-to-the-container>Forward to the container</a></li></ul></li><li><a href=#install-configuration-on-the-esp>Install configuration on the ESP</a></li><li><a href=#add-device-to-home-assistant>Add device to Home Assistant</a></li></ul></li></ul></nav></aside><hr><div class="post-content e-content"><h2 id=intro>Intro <a href=#intro>¶</a></h2><p>If you like designing systems with ESP8266 and ESP32 microcontrollers, definitely check out <a href=https://esphome.io title=ESPHome target=_blank rel=noopener>ESPHome</a> if you haven&rsquo;t already.</p><p>By the end of this post, you&rsquo;ll have ESPHome installed, accessible via the Dashboard and connected to a device over USB.
In a future post (or a later edit of this post), we&rsquo;ll discuss setting up HTTPS so we can flash via the web browser.</p><h2 id=install-esphome-container>Install ESPHome container <a href=#install-esphome-container>¶</a></h2><h3 id=docker-compose>Docker-compose <a href=#docker-compose>¶</a></h3><p>We expand our <code>docker-compose.yaml</code> with the config for the ESPHome container.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>services</span>:
</span></span><span style=display:flex><span>  [<span style=color:#ae81ff>...]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>esphome</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>container_name</span>: <span style=color:#ae81ff>esphome</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>esphome/esphome</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>restart</span>: <span style=color:#ae81ff>unless-stopped</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>ports</span>:
</span></span><span style=display:flex><span>      - <span style=color:#e6db74>&#34;6052:6052/tcp&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>environment</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>TZ=Europe/Brussels</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># mDNS doesn&#39;t work across VLANs, use static IP for devices when disabling mDNS</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#   - ESPHOME_DASHBOARD_USE_PING=true</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>volumes</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>/opt/esphome/config:/config</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>/etc/localtime:/etc/localtime:ro</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># devices:</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#   - /dev/ttyUSB0:/dev/ttyUSB0</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>network_mode</span>: <span style=color:#ae81ff>host</span>
</span></span></code></pre></div><p>You&rsquo;ll have noticed a commented-out <code>devices</code> section.
We&rsquo;ll get back to this in a minute.</p><h3 id=start-and-access-esphome>Start and access ESPHome <a href=#start-and-access-esphome>¶</a></h3><p>If we then run <code>docker-compose up -d</code> Docker will pull the image and will launch it.</p><p>Once running, the ESPHome dashboard can be reached at <code>http://&lt;ip.of.our.box>:6052</code>.</p><h2 id=home-assistant-sidebar>Home Assistant Sidebar <a href=#home-assistant-sidebar>¶</a></h2><p>We have done it <a href=https://sequr.be/blog/2022/09/home-assistant-container-part-3-mariadb-and-influxdb/ title="Part 3: MariaDB and InfluxDB">a</a> <a href=https://sequr.be/blog/2022/09/home-assistant-container-part-5-node-red/ title="Part 5: Node-RED">few</a> <a href=https://sequr.be/blog/2022/09/home-assistant-container-part-6-editing-configuration.yaml-from-within-home-assistant/ title="Part 6: Editing configuration.yaml from within Home Assistant">times</a> <a href=https://sequr.be/blog/2022/09/home-assistant-container-part-7-backing-up-home-assistant-container/ title="Part 7: Backing up Home Assistant Container">already</a>: add an entry for ESPHome to the sidebar of our Home Assistant dashboard using <code>panel-iframe</code>.</p><p>Add the following lines to <code>configuration.yaml</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>panel_iframe</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>portainer</span>:     <span style=color:#75715e># part 3</span>
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>...]</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>nodered</span>:       <span style=color:#75715e># part 5</span>
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>...]</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>configurator</span>:  <span style=color:#75715e># part 6</span>
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>...]</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>duplicati</span>:     <span style=color:#75715e># part 7</span>
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>...]</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>esphome</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>title</span>: <span style=color:#ae81ff>ESPHome</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>icon</span>: <span style=color:#ae81ff>mdi:chip</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>url</span>: <span style=color:#ae81ff>http://192.168.10.106:6052</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>require_admin</span>: <span style=color:#66d9ef>true</span>
</span></span></code></pre></div><p>After a reboot, ESPHome will be accessible from within the Home Assistant Dashboard.</p><figure class=center><img src=esphomedashboard.png alt="ESPHome dashboard"><figcaption class=center>ESPHome dashboard without devices</figcaption></figure><h2 id=connecting-and-flashing-a-device>Connecting and flashing a device <a href=#connecting-and-flashing-a-device>¶</a></h2><p>Let&rsquo;s imagine you want to set up an ESP to <a href=https://sequr.be/blog/2022/07/motion-triggered-led-strip-with-relays-to-minimize-power-consumption/ title="Motion-triggered LED strip with relays to minimize power consumption">control a LED strip and relais</a>.</p><p>You&rsquo;ll have to create a new device in the ESPHome dashboard and add the configuration you want to it.
Afterwards, you&rsquo;ll have to flash that configuration onto the ESP8266/ESP32 board.</p><figure class=center><img src=esphome_create.png alt="Create a new ESPHome device"><figcaption class=center>Create a new ESPHome device</figcaption></figure><p>Multiple options are available, but for the purpose of this posts we&rsquo;ll focus on the option <strong>Plug into the computer running ESPHome Dashboard</strong>.</p><figure class=center><img src=esphome_install.png alt="Install ESPHome configuration onto the device"><figcaption class=center>Install ESPHome configuration onto the device</figcaption></figure><p>Before you can chose this option, however, we&rsquo;ll first need to connect our ESP board to the Docker container.</p><h3 id=connecting-the-device-to-our-esphome-container>Connecting the device to our ESPHome container <a href=#connecting-the-device-to-our-esphome-container>¶</a></h3><h4 id=identify-the-device>Identify the device <a href=#identify-the-device>¶</a></h4><p>First you&rsquo;ll need to figure out the path to the ESP when you connect it over USB to your Docker machine.</p><p>To do this, run the command <code>ls -l /sys/class/tty/*/device/driver</code> before and after connecting the ESP board via USB or <a href=https://www.aliexpress.com/item/32650148276.html title="FT232RL FTDI USB 3.3V 5.5V to TTL Serial Adapter Module" target=_blank rel=noopener>FTDI adapter</a>.
This command will show a list of all serial (TTY) devices on your system which have an actual driver for them installed (skipping virtual terminals).
You should notice an additional line appearing when you run the command after connecting the board.</p><p>For example</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>ls -l /sys/class/tty/*/device/driver
</span></span><span style=display:flex><span>lrwxrwxrwx <span style=color:#ae81ff>1</span> root root <span style=color:#ae81ff>0</span> Sep  <span style=color:#ae81ff>4</span> 13:05 /sys/class/tty/ttyS0/device/driver -&gt; ../../../../bus/platform/drivers/dw-apb-uart
</span></span><span style=display:flex><span>lrwxrwxrwx <span style=color:#ae81ff>1</span> root root <span style=color:#ae81ff>0</span> Sep <span style=color:#ae81ff>15</span> 15:36 /sys/class/tty/ttyS1/device/driver -&gt; ../../../bus/platform/drivers/serial8250
</span></span><span style=display:flex><span>lrwxrwxrwx <span style=color:#ae81ff>1</span> root root <span style=color:#ae81ff>0</span> Sep <span style=color:#ae81ff>15</span> 15:36 /sys/class/tty/ttyS2/device/driver -&gt; ../../../bus/platform/drivers/serial8250
</span></span><span style=display:flex><span>lrwxrwxrwx <span style=color:#ae81ff>1</span> root root <span style=color:#ae81ff>0</span> Sep <span style=color:#ae81ff>15</span> 15:36 /sys/class/tty/ttyS3/device/driver -&gt; ../../../bus/platform/drivers/serial8250
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Plugin the device (in this case a D1 ESP32)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ls -l /sys/class/tty/*/device/driver
</span></span><span style=display:flex><span>lrwxrwxrwx <span style=color:#ae81ff>1</span> root root <span style=color:#ae81ff>0</span> Sep  <span style=color:#ae81ff>4</span> 13:05 /sys/class/tty/ttyS0/device/driver -&gt; ../../../../bus/platform/drivers/dw-apb-uart
</span></span><span style=display:flex><span>lrwxrwxrwx <span style=color:#ae81ff>1</span> root root <span style=color:#ae81ff>0</span> Sep <span style=color:#ae81ff>15</span> 15:36 /sys/class/tty/ttyS1/device/driver -&gt; ../../../bus/platform/drivers/serial8250
</span></span><span style=display:flex><span>lrwxrwxrwx <span style=color:#ae81ff>1</span> root root <span style=color:#ae81ff>0</span> Sep <span style=color:#ae81ff>15</span> 15:36 /sys/class/tty/ttyS2/device/driver -&gt; ../../../bus/platform/drivers/serial8250
</span></span><span style=display:flex><span>lrwxrwxrwx <span style=color:#ae81ff>1</span> root root <span style=color:#ae81ff>0</span> Sep <span style=color:#ae81ff>15</span> 15:36 /sys/class/tty/ttyS3/device/driver -&gt; ../../../bus/platform/drivers/serial8250
</span></span><span style=display:flex><span>lrwxrwxrwx <span style=color:#ae81ff>1</span> root root <span style=color:#ae81ff>0</span> Sep <span style=color:#ae81ff>15</span> 15:54 /sys/class/tty/ttyUSB0/device/driver -&gt; ../../../../../../../bus/usb-serial/drivers/cp210x
</span></span></code></pre></div><p>Notice the line at the end for a USB serial device using the <a href=https://www.silabs.com/developers/usb-to-uart-bridge-vcp-drivers title="CP210x USB to UART Bridge Virtual COM Port (VCP) driver" target=_blank rel=noopener>CP210x</a> USB to UART Bridge Virtual COM Port (VCP) driver.
Note that it is identified as <code>ttyUSB0</code>. This means we can address our device at <code>/dev/ttyUSB0</code>.</p><h4 id=forward-to-the-container>Forward to the container <a href=#forward-to-the-container>¶</a></h4><p>Remember the commented-out section?
Uncomment it and make sure the first section matches the path to your connected ESP.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-yaml data-lang=yaml><span style=display:flex><span>    <span style=color:#f92672>devices</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># - [path to your device]:/dev/ttyUSB0</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>/dev/ttyUSB0:/dev/ttyUSB0</span>
</span></span></code></pre></div><p>This will map/mount your ESP microcontroller to <code>/dev/ttyUSB0</code> within the Docker container, allowing the ESPHome Dashboard to &ldquo;see&rdquo; it.</p><p>To finalise this device forwarding, you will need to rebuild the ESPHome container.
Save your changes and run <code>docker-compose up -d</code> so Docker recreates the container using our new config.</p><h3 id=install-configuration-on-the-esp>Install configuration on the ESP <a href=#install-configuration-on-the-esp>¶</a></h3><p>With the container restarted, go back to the ESPHome dashboard.
You&rsquo;ll find your device config listed there.</p><p>Press the 3 dots at the bottom-right of your device and choose <strong>Install</strong>.
Then &ndash; as said before &ndash; pick the option <strong>Plug into the computer running ESPHome Dashboard</strong>.</p><p>ESPHome will now show the connected device. Notice how the path is <code>/dev/ttyUSB0</code> and a CP2104 driver is used.</p><figure class=center><img src=esphome_port.png alt="Choose server port"><figcaption class=center>Choose server port</figcaption></figure><p>ESPHome will now turn your configuration in a firmware for the board and will flash it.
This may take a minute.</p><p>Once the device is flashed, ESPHome will be able to connect to the API and see data like the WiFi configuration.</p><figure class=center><img src=esphome_flash.png alt="Flashing ESPHome config onto an ESP32"><figcaption class=center>Flashing ESPHome config onto an ESP32</figcaption></figure><h3 id=add-device-to-home-assistant>Add device to Home Assistant <a href=#add-device-to-home-assistant>¶</a></h3><p>With the board now flashed and connected to our WiFi, we still need to add the device to our Home Assistant install via the ESPHome integration.
This will allow us to read data from connected (and configured) sensors.</p><p>Home Assistant should&rsquo;ve automatically discovered the new ESPHome device and will send you a notification about this.
Clicking <strong>Check it out</strong> will send you to the integrations page, where the newly discovered device will be highlighted.</p><figure class=center><img src=ha_integration.png alt="A new ESPHome integration was discovered"><figcaption class=center>A new ESPHome integration was discovered</figcaption></figure><p>You can now add the device by clicking <strong>Configure</strong>.
However, you&rsquo;ll need the (randomly generated) <strong>API encryption key</strong>, which you can find in the ESPHome configuration of your device.</p><figure class=center><img src=esphome_config.png alt="ESPHome configuration of demo-sequr device"><figcaption class=center>Our ESPHome configuration</figcaption></figure><p>Copy the API encryption key and paste it when asked while configuring the ESPHome device.</p><p>Once added, you&rsquo;ll be able to view the device and (if applicable) entities created by the integration.
If you have sensors configured in the ESPHome config, you&rsquo;ll find these as entities in Home Assistant.</p><figure class=center><img src=ha_device.png alt="ESPHome device in Home Assistant"><figcaption class=center>ESPHome device in Home Assistant</figcaption></figure><p>Now we&rsquo;re ready to build custom devices using ESP8266/ESP32 board or flash existing devices (like Sonoff NSPanel) with a custom configuration.</p><p>Next, we&rsquo;ll install <a href=https://sequr.be/blog/2022/10/home-assistant-container-part-10-zigbee2mqtt/ title="Part 10: Zigbee2MQTT">Zigbee2MQTT</a> so we can set up a Zigbee network.</p></div></article><hr><div class=post-info><p><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg>
<span rel=tag class="tag p-category"><a href=https://sequr.be/tags/home-automation/>Home Automation</a></span>
<span rel=tag class="tag p-category"><a href=https://sequr.be/tags/home-assistant/>Home Assistant</a></span>
<span rel=tag class="tag p-category"><a href=https://sequr.be/tags/container/>Container</a></span>
<span rel=tag class="tag p-category"><a href=https://sequr.be/tags/docker/>Docker</a></span>
<span rel=tag class="tag p-category"><a href=https://sequr.be/tags/esphome/>ESPHome</a></span></p><p><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/></svg>
<span class=tag><a class=p-category href=https://sequr.be/categories/home-automation/>Home Automation</a></span>
<span class=tag><a class=p-category href=https://sequr.be/categories/ha-container/>HA Container</a></span></p><p><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
1006 Words</p><p><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
<time class=dt-published datetime=2022-09-15T02:00:00+02:00>2022-09-15
</time>(Last updated: <time class=dt-updated datetime=2022-10-04T02:00:00+02:00>2022-10-04</time>)</p><p><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user"><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
<span rel=author class="p-author h-card">DezeStijn</span></p><p><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/></svg>
<span rel=bookmark class=u-url><a href=https://sequr.be/3452713300>https://sequr.be/3452713300</a></span></p></div><hr><div class=sharing-buttons><a class=resp-sharing-button__link href=https://ko-fi.com/s4squatch target=_blank rel=noopener aria-label title="Buy me a coffee"><div class="resp-sharing-button resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentcolor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M23.881 8.948c-.773-4.085-4.859-4.593-4.859-4.593H.723c-.604.0-.679.798-.679.798s-.082 7.324-.022 11.822c.164 2.424 2.586 2.672 2.586 2.672s8.267-.023 11.966-.049c2.438-.426 2.683-2.566 2.658-3.734 4.352.24 7.422-2.831 6.649-6.916zm-11.062 3.511c-1.246 1.453-4.011 3.976-4.011 3.976s-.121.119-.31.023c-.076-.057-.108-.09-.108-.09-.443-.441-3.368-3.049-4.034-3.954-.709-.965-1.041-2.7-.091-3.71.951-1.01 3.005-1.086 4.363.407.0.0 1.565-1.782 3.468-.963 1.904.82 1.832 3.011.723 4.311zm6.173.478c-.928.116-1.682.028-1.682.028V7.284h1.77s1.971.551 1.971 2.638c0 1.913-.985 2.667-2.059 3.015z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fsequr.be%2fblog%2f2022%2f09%2fhome-assistant-container-part-9-esphome%2f" target=_blank rel=noopener aria-label title="Share on facebook"><div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://twitter.com/intent/tweet/?url=https%3a%2f%2fsequr.be%2fblog%2f2022%2f09%2fhome-assistant-container-part-9-esphome%2f" target=_blank rel=noopener aria-label title="Share on twitter"><div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://reddit.com/submit/?url=https%3a%2f%2fsequr.be%2fblog%2f2022%2f09%2fhome-assistant-container-part-9-esphome%2f&amp;resubmit=true&amp;title=Home%20Assistant%20Container%20Part%209%3a%20ESPHome" target=_blank rel=noopener aria-label title="Share on reddit"><div class="resp-sharing-button resp-sharing-button--reddit resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentcolor" stroke="none"><path d="M12 0A12 12 0 000 12a12 12 0 0012 12 12 12 0 0012-12A12 12 0 0012 0zm5.01 4.744c.688.0 1.25.561 1.25 1.249a1.25 1.25.0 01-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968.0 1.754.786 1.754 1.754.0.716-.435 1.333-1.01 1.614a3.111 3.111.0 01.042.52c0 2.694-3.13 4.87-7.004 4.87s-7.004-2.176-7.004-4.87c0-.183.015-.366.043-.534A1.748 1.748.0 014.028 12c0-.968.786-1.754 1.754-1.754.463.0.898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342.0 01.14-.197.35.35.0 01.238-.042l2.906.617a1.214 1.214.0 011.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687.0 1.248-.561 1.248-1.249S9.937 12 9.249 12zm5.5.0c-.687.0-1.248.561-1.248 1.25.0.687.561 1.248 1.249 1.248S16 13.937 16 13.249c0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327.0 00-.231.094.33.33.0 000 .463c.842.842 2.484.913 2.961.913s2.105-.056 2.961-.913a.361.361.0 00.029-.463.33.33.0 00-.464.0c-.547.533-1.684.73-2.512.73-.828.0-1.979-.196-2.512-.73a.326.326.0 00-.232-.095z"/></svg></div></div></a><a class=resp-sharing-button__link href="mailto:?subject=Home%20Assistant%20Container%20Part%209%3a%20ESPHome&amp;body=https%3a%2f%2fsequr.be%2fblog%2f2022%2f09%2fhome-assistant-container-part-9-esphome%2f" target=_self rel=noopener aria-label title="Share via email"><div class="resp-sharing-button resp-sharing-button--email resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></div></div></a></div><div class=pagination><div class=pagination__buttons><span class="button previous"><a href=https://sequr.be/blog/2022/10/home-assistant-container-part-10-zigbee2mqtt/><span class=button__icon>←</span>
<span class=button__text>Home Assistant Container Part 10: Zigbee2MQTT</span>
</a></span><span class="button next"><a href=https://sequr.be/blog/2022/09/home-assistant-container-part-8-update-home-assistant-container/><span class=button__text>Home Assistant Container Part 8: Update Home Assistant Container</span>
<span class=button__icon>→</span></a></span></div></div></main></div><footer class="footer h-card"><div class=footer__inner><div class=footer__content><span>&copy; 2019</span>
<span><a class="p-name u-url" rel=me href=https://sequr.be/>DezeStijn</a></span>
<span><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank rel=noopener>CC BY-NC-SA 4.0</a></span>
<span><a href=https://sequr.be/blog/index.xml target=_blank title=rss><svg width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></span></div></div></footer></div><script type=text/javascript src=https://sequr.be/bundle.min.e89fda0f29b95d33f6f4224dd9e5cf69d84aff3818be2b0d73e731689cc374261b016d17d46f8381962fb4a1577ba3017b1f23509d894f6e66431f988c00889e.js integrity="sha512-6J/aDym5XTP29CJN2eXPadhK/zgYvisNc+cxaJzDdCYbAW0X1G+DgZYvtKFXe6MBex8jUJ2JT25mQx+YjACIng=="></script></body></html>