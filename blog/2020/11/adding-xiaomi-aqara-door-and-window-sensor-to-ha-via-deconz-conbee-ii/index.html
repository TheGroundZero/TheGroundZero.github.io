<!doctype html><html lang=en><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content="DezeStijn"><meta name=description content="How-to on adding a Xiaomi Aqara Door and Window Sensor to Home Assistant over Zigbee using the ConBee II and deCONZ"><meta name=keywords content="Sequr,blog,writeup,CTF,challenge,machine,infosec,IT security,hacking,pentesting,cybersecurity,Home Automation,Home Assistant,deCONZ,ConBee II,Aqara,door sensor,window sensor,Zigbee"><meta name=robots content="noodp"><meta name=theme-color content="#252627"><link rel=canonical href=https://sequr.be/blog/2020/11/adding-xiaomi-aqara-door-and-window-sensor-to-ha-via-deconz-conbee-ii/><title>Adding Xiaomi Aqara Door and Window Sensor to HA via deCONZ (ConBee II) :: Sequr</title><link rel=stylesheet href=https://sequr.be/main.min.244183cde1a38e0b08f82c11791181288f9aac1cc9618cd6f4e9e7710c5768ba.css integrity="sha256-JEGDzeGjjgsI+CwReRGBKI+arBzJYYzW9OnncQxXaLo=" crossorigin=anonymous><link rel=stylesheet type=text/css href=https://sequr.be/css/table.css><link rel=stylesheet type=text/css href=https://sequr.be/css/menu.css><link rel=apple-touch-icon sizes=180x180 href=https://sequr.be/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://sequr.be/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://sequr.be/favicon-16x16.png><link rel=manifest href=https://sequr.be/site.webmanifest><link rel=mask-icon href=https://sequr.be/safari-pinned-tab.svg color><link rel="shortcut icon" href=https://sequr.be/favicon.ico><meta name=msapplication-TileColor content><meta itemprop=name content="Adding Xiaomi Aqara Door and Window Sensor to HA via deCONZ (ConBee II)"><meta itemprop=description content="How-to on adding a Xiaomi Aqara Door and Window Sensor to Home Assistant over Zigbee using the ConBee II and deCONZ"><meta itemprop=datePublished content="2020-11-12T17:00:00+01:00"><meta itemprop=dateModified content="2021-01-26T22:00:00+01:00"><meta itemprop=wordCount content="1204"><meta itemprop=image content="https://sequr.be/blog/2020/11/adding-xiaomi-aqara-door-and-window-sensor-to-ha-via-deconz-conbee-ii/cover.jpg"><meta itemprop=keywords content="Home Automation,Home Assistant,DeCONZ,ConBee II,Aqara,Door Sensor,Window Sensor,Zigbee"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://sequr.be/blog/2020/11/adding-xiaomi-aqara-door-and-window-sensor-to-ha-via-deconz-conbee-ii/cover.jpg"><meta name=twitter:title content="Adding Xiaomi Aqara Door and Window Sensor to HA via deCONZ (ConBee II)"><meta name=twitter:description content="How-to on adding a Xiaomi Aqara Door and Window Sensor to Home Assistant over Zigbee using the ConBee II and deCONZ"><meta property="article:section" content="Home Automation"><meta property="article:published_time" content="2020-11-12 17:00:00 +0100 +0100"></head><body><div class=container><header class=header><span class=header__inner><a href=https://sequr.be/ style=text-decoration:none><div class=logo><span class=logo__mark>$</span>
<span class=logo__text>lynx sequr.be</span>
<span class=logo__cursor style=background-color:#e68101></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=https://sequr.be/about/>About</a></li><li><a href=https://sequr.be/blog/>Blog</a></li><li><a href=https://sequr.be/privacy/>Privacy</a></li><li><a href=https://sequr.be/shoppinglist/>Shopping</a></li></ul></nav><span class=menu-trigger><svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
</span><span class="theme-toggle not-selectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none"><path d="M22 41c10.4934.0 19-8.5066 19-19C41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><main class="post h-entry"><div class=post-info><p><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
6 minutes</p></div><article><h1 class="post-title p-name"><a href=https://sequr.be/blog/2020/11/adding-xiaomi-aqara-door-and-window-sensor-to-ha-via-deconz-conbee-ii/ class=u-url>Adding Xiaomi Aqara Door and Window Sensor to HA via deCONZ (ConBee II)</a></h1><hr><aside id=toc><div class=toc-title>Table of Contents</div><nav id=TableOfContents><ul><li><a href=#installing-the-conbee-ii-gateway>Installing the ConBee II gateway</a><ul><li><a href=#get-a-dresden-elektronik-conbee-ii-usb-gateway>Get a Dresden Elektronik ConBee II USB gateway</a></li><li><a href=#add-conbee-ii-to-your-system>Add ConBee II to your system</a></li><li><a href=#install-deconz-add-on>Install deCONZ add-on</a></li></ul></li><li><a href=#adding-the-aqara-door-and-window-sensor>Adding the Aqara Door and Window Sensor</a><ul><li><a href=#launch-deconz--phoscon>Launch deCONZ / Phoscon</a></li><li><a href=#add-the-sensor>Add the sensor</a></li><li><a href=#rename-in-home-assistant>Rename in Home Assistant</a></li></ul></li><li><a href=#create-automations>Create automations</a></li></ul></nav></aside><hr><div class="post-content e-content"><p>Xiaomi Aqara devices is an extremely cheap and versatile series of smart home devices.<br>Whilst cheap, they still perform very well and are easy to integrate in Home Assistant.</p><p>In contrast to the devices by Shelly, they communicate over Zigbee instead of WiFi.
Because of this, the devices require a Zigbee hub that acts as an intermediary between the devices and your smartphone, home automation system, etc.</p><p>That&rsquo;s where the deCONZ Zigbee gateway comes in.<br>To let the deCONZ software communicate over Zigbee, you&rsquo;ll need a ConBee II (a USB stick) or a RaspBee Shield for the Raspberry Pi, both by Dresden Elektronik.<br>Since I&rsquo;m running Home Assistant on a server rather than on an RPi, I bought the ConBee II.</p><p>Home Assistant also provides a deCONZ integration, allowing for a very smooth integration of Zigbee devices in HA.</p><p>In this tutorial, I&rsquo;ll explain how to install an <a href=https://s.click.aliexpress.com/e/_Amu3Q9 title="Aqara Door and Window Sensor" target=_blank rel=noopener>Aqara Door and Window Sensor</a>(<a href=https://aliexpress.com/item/4000094329575.html title="Aqara Door and Window Sensor (non-affiliate)" target=_blank rel=noopener>NA</a>).
This method works for other Aqara Zigbee devices, like the <a href=https://s.click.aliexpress.com/e/_AUhwQH title="Aqara Motion Sensor" target=_blank rel=noopener>Aqara Motion Sensor</a>(<a href=https://www.aliexpress.com/item/33014918694.html title="Aqara Motion Sensor (non-affiliate)" target=_blank rel=noopener>NA</a>) or <a href=https://s.click.aliexpress.com/e/_AUeqel title="Aqara Vibration Sensor" target=_blank rel=noopener>Aqara Vibration Sensor</a>(<a href=https://www.aliexpress.com/item/1005001585282780.html title="Aqara Vibration Sensor (non-affiliate)" target=_blank rel=noopener>NA</a>) , as well.<br>In fact, this tutorial will work for just about any sensor/switch/&mldr; that works over Zigbee.</p><p>The Aqara Door and Window Sensor is a tiny battery-power door/window sensor.
It also has a temperature sensor inside of it.</p><figure class=center><img src=aqara-doorwindow.png alt="Aqara Door and Window Sensor"><figcaption class=center>Aqara Door and Window Sensor</figcaption></figure><p>Yes, it&rsquo;s tiny!</p><h2 id=installing-the-conbee-ii-gateway>Installing the ConBee II gateway <a href=#installing-the-conbee-ii-gateway>¶</a></h2><h3 id=get-a-dresden-elektronik-conbee-ii-usb-gateway>Get a Dresden Elektronik ConBee II USB gateway <a href=#get-a-dresden-elektronik-conbee-ii-usb-gateway>¶</a></h3><p>First of all, you&rsquo;ll need to get a Dresden Elektronik ConBee II USB gateway.<br>You can buy this at Amazon [<a href=https://smile.amazon.com/dresden-elektronik-ConBee-Universal-Gateway/dp/B07PZ7ZHG5 title="dresden elektronik ConBee II The Universal Zigbee USB Gateway" target=_blank rel=noopener>COM</a>][<a href=https://smile.amazon.de/dp/B07PZ7ZHG5/ title="ConBee II das universelle Zigbee USB-Gateway" target=_blank rel=noopener>DE</a>].
Make sure you use <code>smile.amazon.{com,de}</code> to donate to charity.</p><figure class=center><img src=conbee_ii.png alt="ConBee II USB stick"><figcaption class=center>ConBee II USB stick</figcaption></figure><h3 id=add-conbee-ii-to-your-system>Add ConBee II to your system <a href=#add-conbee-ii-to-your-system>¶</a></h3><p>Once you got the USB-stick, plug it in your system.</p><p><strong>Note:</strong> It appears that the WiFi chip on the Raspberry Pi (probably due to its proximity) may interfere with the signal of the Zigbee stick (since both run on 2.4GHz).
You may want to create some distance between the two by connecting to ConBee II to a <a href=https://s.click.aliexpress.com/e/_AKmLeN title="Ugreen USB Extension Cable USB 3.0 Cable" target=_blank rel=noopener>USB extension cord</a>(<a href=https://www.aliexpress.com/item/4000083972646.html title="Ugreen USB Extension Cable USB 3.0 Cable (non-affiliate)" target=_blank rel=noopener>NA</a>).</p><p>If you&rsquo;re &ndash; like me &ndash; running Home Assistant in a Virtual Machine (VM), you&rsquo;ll need to assign the device to your VM.<br>In Proxmox, you can do this by opening the Hardware tab of your VM and adding a new USB Device.<br>I&rsquo;m pretty sure you&rsquo;ll want to <strong>un</strong>check USB3 here.</p><p>Use USB Vendor/Device ID so that you can plug the USB stick in any USB port on your system without needing to reconfigure your VM.<br>You only need to bind to a USB Port if you&rsquo;re for some reason plugging in two ConBee II&rsquo;s.</p><figure class=center><img src=proxmox-conbee.png alt="Adding ConBee II to Proxmox VM"><figcaption class=center>Adding ConBee II to Proxmox VM</figcaption></figure><p>Next, reboot your Home Assistant VM and verify it can reach the ConBee II.<br>Open the Supervisor menu, go to the system tab, press the three dots under Host System and open the Hardware list.</p><figure class=center><img src=homeassistant-hardware.png alt="Home Assistant - Open hardware menu"><figcaption class=center>Home Assistant - Open hardware menu</figcaption></figure><figure class=center><img src=homeassistant-hardware-conbee.png alt="Home Assistant - Open hardware list"><figcaption class=center>Home Assistant - Open hardware list</figcaption></figure><p>If you cannot find the ConBee II in this list, you may need to remove and plug the USB stick back in, check your assignment in Proxmox and fully reboot HA (not just reload).</p><p>Copy the hardware address (e.g., <code>/dev/serial/by-id/usb-dresden_elektronik_ingenieurtechnik_GmbH_ConBee_II_xxx</code>).</p><h3 id=install-deconz-add-on>Install deCONZ add-on <a href=#install-deconz-add-on>¶</a></h3><ol><li>Open the Supervisor menu and go to the Add-on Store tab</li><li>Install the deCONZ add-on</li><li>Open the deCONZ add-on menu and go to the Configuration tab<br>Paste the hardware address under the device-key<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>device</span>: &gt;-<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  /dev/serial/by-id/usb-dresden_elektronik_ingenieurtechnik_GmbH_ConBee_II_xxx</span>  
</span></span></code></pre></div></li><li>Under the info tab, check &ldquo;Watchdog&rdquo; and &ldquo;Auto update&rdquo;, if you want</li><li>Start the add-on and check the logs for errors</li></ol><figure class=center><img src=homeassistant-deconz-addon.png alt="Install deCONZ add-on"><figcaption class=center>Install deCONZ add-on</figcaption></figure><h2 id=adding-the-aqara-door-and-window-sensor>Adding the Aqara Door and Window Sensor <a href=#adding-the-aqara-door-and-window-sensor>¶</a></h2><h3 id=launch-deconz--phoscon>Launch deCONZ / Phoscon <a href=#launch-deconz--phoscon>¶</a></h3><p>Either check the &ldquo;Show in sidebar&rdquo; and open the deCONZ app from there, or click &ldquo;Open web UI&rdquo; in the deCONZ add-on menu.</p><p>I chose to work with the <a href=https://phoscon.de/en/conbee/software#phoscon-app title="Phoscon App docs" target=_blank rel=noopener>Phoscon app</a>.</p><figure class=center><img src=homeassistant-deconz-app.png alt="deCONZ app selection"><figcaption class=center>deCONZ app selection</figcaption></figure><p>On first launch, you&rsquo;ll need to create an account.
Be sure to remember these credentials (add them to your password vault) as you&rsquo;ll need this each time you open the app.<br>You&rsquo;ll most likely also need to do an initial configuration of your ConBee II gateway and update it&rsquo;s firmware.</p><p>Proceed without lights.<br>Skip the creation of groups.</p><h3 id=add-the-sensor>Add the sensor <a href=#add-the-sensor>¶</a></h3><p>Make sure you already unboxed the sensor by now.</p><ol><li>Open the sidebar menu and click on Sensors under the Devices section.</li><li>Click &ldquo;Add new sensor&rdquo;</li><li>Pick &ldquo;Other&rdquo; as Vendor</li><li>The search for new sensors is now active for 3 minutes</li><li>Pick up your Aqara Door and Window Sensor and shortly press the small button on the sensor</li><li>The sensor should be picked up in about 10 seconds. If not, move closer to the ConBee II and press the button again</li><li>Give the sensor a name (e.g. <code>DW Front Door</code>)</li></ol><h3 id=rename-in-home-assistant>Rename in Home Assistant <a href=#rename-in-home-assistant>¶</a></h3><p>The Aqara sensor is now added to Home Assistant.<br>The device will also have 2 related entities: 1 binary sensor for the door/window state (on = open, off = closed) and a sensor for the battery percentage.</p><p>This step is optional, but I prefer to rename the device so that the entity_id&rsquo;s are a bit more sensible.</p><ol><li>Go to the Devices list under the Configuration menu</li><li>Search for <code>deCONZ</code></li><li>Aside from the Phoscon-GW, the daylight sensor (built-in in Phoscon) and (in my case) an unnamed device, you should also find your Door and Window Sensor<br>In my case, it&rsquo;s identified as a <code>lumi.sensor_magnet.aq2</code> by <code>LUMI</code></li><li>Open the device menu</li><li>Click the cogwheel at the top right of your window</li><li>Give the device a new name and set the location</li><li>Say Yes when Home Assistant asks you if you want to also rename the entities<br>If this fails, you can manually rename the entities from the device menu as well.</li></ol><figure class=center><img src=homeassistant-aqara-device.png alt="Device menu - Aqara sensor"><figcaption class=center>Device menu - Aqara sensor</figcaption></figure><h2 id=create-automations>Create automations <a href=#create-automations>¶</a></h2><p>Now you can create automations based on the state of the sensor.<br>Want to turn on the hallway lighs when the door opens? No problem!<br>Want an alert on your phone when the door opens while nobody&rsquo;s home? No problem!
Want to &mldr; ? No problem!</p><p>Since I&rsquo;m using Node-RED for all my automations, I opened the Node-RED application and set up my automation.</p><p>This automation triggers when the state of the door sensor changes.<br>If it opened, the light turns on. If nobody is home, an alert is sent to my phone with a picture from the front door camera and a link to the security tab of my Lovelace interface.<br>If it&rsquo;s closed, the light turns off after 2 minutes. You&rsquo;ll perhaps want to have an override here for when the hallway light switch is on.</p><p>You can automate your lights using e.g. a <a href=https://sequr.be/blog/2020/07/home-automation-intro-into-shelly/ title="Intro into Shelly">Shelly</a>.
This device can be added to Home Assistant using the new Shelly integration, via ShellyForHass or via <a href=https://sequr.be/blog/2020/10/home-automation-getting-started-with-mqtt-and-home-assistant-and-shelly/ title="Getting started with MQTT and Home Assistant (and Shelly)">MQTT</a>.</p><figure class=center><img src=homeassistant-nodered-aqara-example.png alt="Node-RED example flow for front door sensor and hallway lights"><figcaption class=center>Node-RED example flow for front door sensor and hallway lights</figcaption></figure><p>The code for this flow can be found below:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-json data-lang=json><span style=display:flex><span>[{<span style=color:#f92672>&#34;id&#34;</span>:<span style=color:#e6db74>&#34;9ec7d5da.d232f8&#34;</span>,<span style=color:#f92672>&#34;type&#34;</span>:<span style=color:#e6db74>&#34;tab&#34;</span>,<span style=color:#f92672>&#34;label&#34;</span>:<span style=color:#e6db74>&#34;Example flow sequr.be&#34;</span>,<span style=color:#f92672>&#34;disabled&#34;</span>:<span style=color:#66d9ef>false</span>,<span style=color:#f92672>&#34;info&#34;</span>:<span style=color:#e6db74>&#34;&#34;</span>},{<span style=color:#f92672>&#34;id&#34;</span>:<span style=color:#e6db74>&#34;b440de1.8abb82&#34;</span>,<span style=color:#f92672>&#34;type&#34;</span>:<span style=color:#e6db74>&#34;comment&#34;</span>,<span style=color:#f92672>&#34;z&#34;</span>:<span style=color:#e6db74>&#34;9ec7d5da.d232f8&#34;</span>,<span style=color:#f92672>&#34;name&#34;</span>:<span style=color:#e6db74>&#34;DW sensor front door&#34;</span>,<span style=color:#f92672>&#34;info&#34;</span>:<span style=color:#e6db74>&#34;&#34;</span>,<span style=color:#f92672>&#34;x&#34;</span>:<span style=color:#ae81ff>140</span>,<span style=color:#f92672>&#34;y&#34;</span>:<span style=color:#ae81ff>60</span>,<span style=color:#f92672>&#34;wires&#34;</span>:[]},{<span style=color:#f92672>&#34;id&#34;</span>:<span style=color:#e6db74>&#34;5c6334e3.285aec&#34;</span>,<span style=color:#f92672>&#34;type&#34;</span>:<span style=color:#e6db74>&#34;server-state-changed&#34;</span>,<span style=color:#f92672>&#34;z&#34;</span>:<span style=color:#e6db74>&#34;9ec7d5da.d232f8&#34;</span>,<span style=color:#f92672>&#34;name&#34;</span>:<span style=color:#e6db74>&#34;Door open?&#34;</span>,<span style=color:#f92672>&#34;server&#34;</span>:<span style=color:#e6db74>&#34;2ce15169.23b9de&#34;</span>,<span style=color:#f92672>&#34;version&#34;</span>:<span style=color:#ae81ff>1</span>,<span style=color:#f92672>&#34;exposeToHomeAssistant&#34;</span>:<span style=color:#66d9ef>false</span>,<span style=color:#f92672>&#34;haConfig&#34;</span>:[{<span style=color:#f92672>&#34;property&#34;</span>:<span style=color:#e6db74>&#34;name&#34;</span>,<span style=color:#f92672>&#34;value&#34;</span>:<span style=color:#e6db74>&#34;&#34;</span>},{<span style=color:#f92672>&#34;property&#34;</span>:<span style=color:#e6db74>&#34;icon&#34;</span>,<span style=color:#f92672>&#34;value&#34;</span>:<span style=color:#e6db74>&#34;&#34;</span>}],<span style=color:#f92672>&#34;entityidfilter&#34;</span>:<span style=color:#e6db74>&#34;binary_sensor.dw_frontdoor&#34;</span>,<span style=color:#f92672>&#34;entityidfiltertype&#34;</span>:<span style=color:#e6db74>&#34;exact&#34;</span>,<span style=color:#f92672>&#34;outputinitially&#34;</span>:<span style=color:#66d9ef>false</span>,<span style=color:#f92672>&#34;state_type&#34;</span>:<span style=color:#e6db74>&#34;habool&#34;</span>,<span style=color:#f92672>&#34;haltifstate&#34;</span>:<span style=color:#e6db74>&#34;true&#34;</span>,<span style=color:#f92672>&#34;halt_if_type&#34;</span>:<span style=color:#e6db74>&#34;bool&#34;</span>,<span style=color:#f92672>&#34;halt_if_compare&#34;</span>:<span style=color:#e6db74>&#34;is&#34;</span>,<span style=color:#f92672>&#34;outputs&#34;</span>:<span style=color:#ae81ff>2</span>,<span style=color:#f92672>&#34;output_only_on_state_change&#34;</span>:<span style=color:#66d9ef>true</span>,<span style=color:#f92672>&#34;x&#34;</span>:<span style=color:#ae81ff>110</span>,<span style=color:#f92672>&#34;y&#34;</span>:<span style=color:#ae81ff>180</span>,<span style=color:#f92672>&#34;wires&#34;</span>:[[<span style=color:#e6db74>&#34;e7dcb7d6.bde698&#34;</span>,<span style=color:#e6db74>&#34;a07a0cb.75cad7&#34;</span>],[<span style=color:#e6db74>&#34;b4b17f00.c9b63&#34;</span>]]},{<span style=color:#f92672>&#34;id&#34;</span>:<span style=color:#e6db74>&#34;e7dcb7d6.bde698&#34;</span>,<span style=color:#f92672>&#34;type&#34;</span>:<span style=color:#e6db74>&#34;api-call-service&#34;</span>,<span style=color:#f92672>&#34;z&#34;</span>:<span style=color:#e6db74>&#34;9ec7d5da.d232f8&#34;</span>,<span style=color:#f92672>&#34;name&#34;</span>:<span style=color:#e6db74>&#34;Hallway lights on&#34;</span>,<span style=color:#f92672>&#34;server&#34;</span>:<span style=color:#e6db74>&#34;2ce15169.23b9de&#34;</span>,<span style=color:#f92672>&#34;version&#34;</span>:<span style=color:#ae81ff>1</span>,<span style=color:#f92672>&#34;debugenabled&#34;</span>:<span style=color:#66d9ef>false</span>,<span style=color:#f92672>&#34;service_domain&#34;</span>:<span style=color:#e6db74>&#34;light&#34;</span>,<span style=color:#f92672>&#34;service&#34;</span>:<span style=color:#e6db74>&#34;turn_on&#34;</span>,<span style=color:#f92672>&#34;entityId&#34;</span>:<span style=color:#e6db74>&#34;light.hallway_lights&#34;</span>,<span style=color:#f92672>&#34;data&#34;</span>:<span style=color:#e6db74>&#34;&#34;</span>,<span style=color:#f92672>&#34;dataType&#34;</span>:<span style=color:#e6db74>&#34;json&#34;</span>,<span style=color:#f92672>&#34;mergecontext&#34;</span>:<span style=color:#e6db74>&#34;&#34;</span>,<span style=color:#f92672>&#34;output_location&#34;</span>:<span style=color:#e6db74>&#34;&#34;</span>,<span style=color:#f92672>&#34;output_location_type&#34;</span>:<span style=color:#e6db74>&#34;none&#34;</span>,<span style=color:#f92672>&#34;mustacheAltTags&#34;</span>:<span style=color:#66d9ef>false</span>,<span style=color:#f92672>&#34;x&#34;</span>:<span style=color:#ae81ff>310</span>,<span style=color:#f92672>&#34;y&#34;</span>:<span style=color:#ae81ff>160</span>,<span style=color:#f92672>&#34;wires&#34;</span>:[[]]},{<span style=color:#f92672>&#34;id&#34;</span>:<span style=color:#e6db74>&#34;b4b17f00.c9b63&#34;</span>,<span style=color:#f92672>&#34;type&#34;</span>:<span style=color:#e6db74>&#34;delay&#34;</span>,<span style=color:#f92672>&#34;z&#34;</span>:<span style=color:#e6db74>&#34;9ec7d5da.d232f8&#34;</span>,<span style=color:#f92672>&#34;name&#34;</span>:<span style=color:#e6db74>&#34;&#34;</span>,<span style=color:#f92672>&#34;pauseType&#34;</span>:<span style=color:#e6db74>&#34;delay&#34;</span>,<span style=color:#f92672>&#34;timeout&#34;</span>:<span style=color:#e6db74>&#34;2&#34;</span>,<span style=color:#f92672>&#34;timeoutUnits&#34;</span>:<span style=color:#e6db74>&#34;minutes&#34;</span>,<span style=color:#f92672>&#34;rate&#34;</span>:<span style=color:#e6db74>&#34;1&#34;</span>,<span style=color:#f92672>&#34;nbRateUnits&#34;</span>:<span style=color:#e6db74>&#34;1&#34;</span>,<span style=color:#f92672>&#34;rateUnits&#34;</span>:<span style=color:#e6db74>&#34;second&#34;</span>,<span style=color:#f92672>&#34;randomFirst&#34;</span>:<span style=color:#e6db74>&#34;1&#34;</span>,<span style=color:#f92672>&#34;randomLast&#34;</span>:<span style=color:#e6db74>&#34;5&#34;</span>,<span style=color:#f92672>&#34;randomUnits&#34;</span>:<span style=color:#e6db74>&#34;seconds&#34;</span>,<span style=color:#f92672>&#34;drop&#34;</span>:<span style=color:#66d9ef>false</span>,<span style=color:#f92672>&#34;x&#34;</span>:<span style=color:#ae81ff>280</span>,<span style=color:#f92672>&#34;y&#34;</span>:<span style=color:#ae81ff>220</span>,<span style=color:#f92672>&#34;wires&#34;</span>:[[<span style=color:#e6db74>&#34;ae62427e.0af6b8&#34;</span>]]},{<span style=color:#f92672>&#34;id&#34;</span>:<span style=color:#e6db74>&#34;ae62427e.0af6b8&#34;</span>,<span style=color:#f92672>&#34;type&#34;</span>:<span style=color:#e6db74>&#34;api-call-service&#34;</span>,<span style=color:#f92672>&#34;z&#34;</span>:<span style=color:#e6db74>&#34;9ec7d5da.d232f8&#34;</span>,<span style=color:#f92672>&#34;name&#34;</span>:<span style=color:#e6db74>&#34;Hallway lights off&#34;</span>,<span style=color:#f92672>&#34;server&#34;</span>:<span style=color:#e6db74>&#34;2ce15169.23b9de&#34;</span>,<span style=color:#f92672>&#34;version&#34;</span>:<span style=color:#ae81ff>1</span>,<span style=color:#f92672>&#34;debugenabled&#34;</span>:<span style=color:#66d9ef>false</span>,<span style=color:#f92672>&#34;service_domain&#34;</span>:<span style=color:#e6db74>&#34;light&#34;</span>,<span style=color:#f92672>&#34;service&#34;</span>:<span style=color:#e6db74>&#34;turn_off&#34;</span>,<span style=color:#f92672>&#34;entityId&#34;</span>:<span style=color:#e6db74>&#34;light.hallway_lights&#34;</span>,<span style=color:#f92672>&#34;data&#34;</span>:<span style=color:#e6db74>&#34;&#34;</span>,<span style=color:#f92672>&#34;dataType&#34;</span>:<span style=color:#e6db74>&#34;json&#34;</span>,<span style=color:#f92672>&#34;mergecontext&#34;</span>:<span style=color:#e6db74>&#34;&#34;</span>,<span style=color:#f92672>&#34;output_location&#34;</span>:<span style=color:#e6db74>&#34;&#34;</span>,<span style=color:#f92672>&#34;output_location_type&#34;</span>:<span style=color:#e6db74>&#34;none&#34;</span>,<span style=color:#f92672>&#34;mustacheAltTags&#34;</span>:<span style=color:#66d9ef>false</span>,<span style=color:#f92672>&#34;x&#34;</span>:<span style=color:#ae81ff>470</span>,<span style=color:#f92672>&#34;y&#34;</span>:<span style=color:#ae81ff>220</span>,<span style=color:#f92672>&#34;wires&#34;</span>:[[]]},{<span style=color:#f92672>&#34;id&#34;</span>:<span style=color:#e6db74>&#34;a07a0cb.75cad7&#34;</span>,<span style=color:#f92672>&#34;type&#34;</span>:<span style=color:#e6db74>&#34;ha-get-entities&#34;</span>,<span style=color:#f92672>&#34;z&#34;</span>:<span style=color:#e6db74>&#34;9ec7d5da.d232f8&#34;</span>,<span style=color:#f92672>&#34;server&#34;</span>:<span style=color:#e6db74>&#34;2ce15169.23b9de&#34;</span>,<span style=color:#f92672>&#34;name&#34;</span>:<span style=color:#e6db74>&#34;Anyone home?&#34;</span>,<span style=color:#f92672>&#34;rules&#34;</span>:[{<span style=color:#f92672>&#34;property&#34;</span>:<span style=color:#e6db74>&#34;state&#34;</span>,<span style=color:#f92672>&#34;logic&#34;</span>:<span style=color:#e6db74>&#34;is&#34;</span>,<span style=color:#f92672>&#34;value&#34;</span>:<span style=color:#e6db74>&#34;home&#34;</span>,<span style=color:#f92672>&#34;valueType&#34;</span>:<span style=color:#e6db74>&#34;str&#34;</span>},{<span style=color:#f92672>&#34;property&#34;</span>:<span style=color:#e6db74>&#34;entity_id&#34;</span>,<span style=color:#f92672>&#34;logic&#34;</span>:<span style=color:#e6db74>&#34;starts_with&#34;</span>,<span style=color:#f92672>&#34;value&#34;</span>:<span style=color:#e6db74>&#34;person.&#34;</span>,<span style=color:#f92672>&#34;valueType&#34;</span>:<span style=color:#e6db74>&#34;str&#34;</span>}],<span style=color:#f92672>&#34;output_type&#34;</span>:<span style=color:#e6db74>&#34;count&#34;</span>,<span style=color:#f92672>&#34;output_empty_results&#34;</span>:<span style=color:#66d9ef>true</span>,<span style=color:#f92672>&#34;output_location_type&#34;</span>:<span style=color:#e6db74>&#34;msg&#34;</span>,<span style=color:#f92672>&#34;output_location&#34;</span>:<span style=color:#e6db74>&#34;payload&#34;</span>,<span style=color:#f92672>&#34;output_results_count&#34;</span>:<span style=color:#ae81ff>1</span>,<span style=color:#f92672>&#34;x&#34;</span>:<span style=color:#ae81ff>300</span>,<span style=color:#f92672>&#34;y&#34;</span>:<span style=color:#ae81ff>120</span>,<span style=color:#f92672>&#34;wires&#34;</span>:[[<span style=color:#e6db74>&#34;d9c12867.acebe8&#34;</span>]]},{<span style=color:#f92672>&#34;id&#34;</span>:<span style=color:#e6db74>&#34;d9c12867.acebe8&#34;</span>,<span style=color:#f92672>&#34;type&#34;</span>:<span style=color:#e6db74>&#34;switch&#34;</span>,<span style=color:#f92672>&#34;z&#34;</span>:<span style=color:#e6db74>&#34;9ec7d5da.d232f8&#34;</span>,<span style=color:#f92672>&#34;name&#34;</span>:<span style=color:#e6db74>&#34;0 ppl home&#34;</span>,<span style=color:#f92672>&#34;property&#34;</span>:<span style=color:#e6db74>&#34;payload&#34;</span>,<span style=color:#f92672>&#34;propertyType&#34;</span>:<span style=color:#e6db74>&#34;msg&#34;</span>,<span style=color:#f92672>&#34;rules&#34;</span>:[{<span style=color:#f92672>&#34;t&#34;</span>:<span style=color:#e6db74>&#34;eq&#34;</span>,<span style=color:#f92672>&#34;v&#34;</span>:<span style=color:#e6db74>&#34;0&#34;</span>,<span style=color:#f92672>&#34;vt&#34;</span>:<span style=color:#e6db74>&#34;num&#34;</span>}],<span style=color:#f92672>&#34;checkall&#34;</span>:<span style=color:#e6db74>&#34;true&#34;</span>,<span style=color:#f92672>&#34;repair&#34;</span>:<span style=color:#66d9ef>false</span>,<span style=color:#f92672>&#34;outputs&#34;</span>:<span style=color:#ae81ff>1</span>,<span style=color:#f92672>&#34;x&#34;</span>:<span style=color:#ae81ff>490</span>,<span style=color:#f92672>&#34;y&#34;</span>:<span style=color:#ae81ff>120</span>,<span style=color:#f92672>&#34;wires&#34;</span>:[[<span style=color:#e6db74>&#34;98d5bdb7.611b2&#34;</span>]]},{<span style=color:#f92672>&#34;id&#34;</span>:<span style=color:#e6db74>&#34;b20702ac.a4503&#34;</span>,<span style=color:#f92672>&#34;type&#34;</span>:<span style=color:#e6db74>&#34;api-call-service&#34;</span>,<span style=color:#f92672>&#34;z&#34;</span>:<span style=color:#e6db74>&#34;9ec7d5da.d232f8&#34;</span>,<span style=color:#f92672>&#34;name&#34;</span>:<span style=color:#e6db74>&#34;Send notification&#34;</span>,<span style=color:#f92672>&#34;server&#34;</span>:<span style=color:#e6db74>&#34;2ce15169.23b9de&#34;</span>,<span style=color:#f92672>&#34;version&#34;</span>:<span style=color:#ae81ff>1</span>,<span style=color:#f92672>&#34;debugenabled&#34;</span>:<span style=color:#66d9ef>false</span>,<span style=color:#f92672>&#34;service_domain&#34;</span>:<span style=color:#e6db74>&#34;notify&#34;</span>,<span style=color:#f92672>&#34;service&#34;</span>:<span style=color:#e6db74>&#34;mobile_app_me&#34;</span>,<span style=color:#f92672>&#34;entityId&#34;</span>:<span style=color:#e6db74>&#34;&#34;</span>,<span style=color:#f92672>&#34;data&#34;</span>:<span style=color:#e6db74>&#34;&#34;</span>,<span style=color:#f92672>&#34;dataType&#34;</span>:<span style=color:#e6db74>&#34;json&#34;</span>,<span style=color:#f92672>&#34;mergecontext&#34;</span>:<span style=color:#e6db74>&#34;&#34;</span>,<span style=color:#f92672>&#34;output_location&#34;</span>:<span style=color:#e6db74>&#34;&#34;</span>,<span style=color:#f92672>&#34;output_location_type&#34;</span>:<span style=color:#e6db74>&#34;none&#34;</span>,<span style=color:#f92672>&#34;mustacheAltTags&#34;</span>:<span style=color:#66d9ef>false</span>,<span style=color:#f92672>&#34;x&#34;</span>:<span style=color:#ae81ff>1000</span>,<span style=color:#f92672>&#34;y&#34;</span>:<span style=color:#ae81ff>120</span>,<span style=color:#f92672>&#34;wires&#34;</span>:[[]]},{<span style=color:#f92672>&#34;id&#34;</span>:<span style=color:#e6db74>&#34;98d5bdb7.611b2&#34;</span>,<span style=color:#f92672>&#34;type&#34;</span>:<span style=color:#e6db74>&#34;function&#34;</span>,<span style=color:#f92672>&#34;z&#34;</span>:<span style=color:#e6db74>&#34;9ec7d5da.d232f8&#34;</span>,<span style=color:#f92672>&#34;name&#34;</span>:<span style=color:#e6db74>&#34;Notification data with camera image&#34;</span>,<span style=color:#f92672>&#34;func&#34;</span>:<span style=color:#e6db74>&#34;msg.payload =\n{\n    \&#34;data\&#34;: {\n        \&#34;title\&#34;: \&#34;Someone opened front door\&#34;,\n        \&#34;message\&#34;: \&#34;Somone opened front door, but nobody is home\&#34;,\n        \&#34;data\&#34;: {\n            \&#34;image\&#34;: \&#34;https://example.org/api/camera_proxy/camera.frontdoor?token=verylongstring\&#34;,\n            \&#34;clickAction\&#34;: \&#34;/lovelace/security\&#34;\n        }\n    }\n}\nreturn msg;\n&#34;</span>,<span style=color:#f92672>&#34;outputs&#34;</span>:<span style=color:#ae81ff>1</span>,<span style=color:#f92672>&#34;noerr&#34;</span>:<span style=color:#ae81ff>0</span>,<span style=color:#f92672>&#34;initialize&#34;</span>:<span style=color:#e6db74>&#34;&#34;</span>,<span style=color:#f92672>&#34;finalize&#34;</span>:<span style=color:#e6db74>&#34;&#34;</span>,<span style=color:#f92672>&#34;x&#34;</span>:<span style=color:#ae81ff>740</span>,<span style=color:#f92672>&#34;y&#34;</span>:<span style=color:#ae81ff>120</span>,<span style=color:#f92672>&#34;wires&#34;</span>:[[<span style=color:#e6db74>&#34;b20702ac.a4503&#34;</span>]]},{<span style=color:#f92672>&#34;id&#34;</span>:<span style=color:#e6db74>&#34;2ce15169.23b9de&#34;</span>,<span style=color:#f92672>&#34;type&#34;</span>:<span style=color:#e6db74>&#34;server&#34;</span>,<span style=color:#f92672>&#34;name&#34;</span>:<span style=color:#e6db74>&#34;Home Assistant&#34;</span>,<span style=color:#f92672>&#34;legacy&#34;</span>:<span style=color:#66d9ef>false</span>,<span style=color:#f92672>&#34;addon&#34;</span>:<span style=color:#66d9ef>true</span>,<span style=color:#f92672>&#34;rejectUnauthorizedCerts&#34;</span>:<span style=color:#66d9ef>true</span>,<span style=color:#f92672>&#34;ha_boolean&#34;</span>:<span style=color:#e6db74>&#34;y|yes|true|on|home|open&#34;</span>,<span style=color:#f92672>&#34;connectionDelay&#34;</span>:<span style=color:#66d9ef>true</span>,<span style=color:#f92672>&#34;cacheJson&#34;</span>:<span style=color:#66d9ef>true</span>}]
</span></span></code></pre></div><p>Did you find this how-to useful and/or did you make a crazy automation based on this tutorial?
Hit me up on <a href=https://twitter.com/DezeStijn title="DezeStijn @ Twitter" target=_blank rel=noopener>Twitter</a> and let me know!</p></div></article><hr><div class=post-info><p><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg>
<span class=tag><a href=https://sequr.be/tags/home-automation/>Home Automation</a></span>
<span class=tag><a href=https://sequr.be/tags/home-assistant/>Home Assistant</a></span>
<span class=tag><a href=https://sequr.be/tags/deconz/>deCONZ</a></span>
<span class=tag><a href=https://sequr.be/tags/conbee-ii/>ConBee II</a></span>
<span class=tag><a href=https://sequr.be/tags/aqara/>Aqara</a></span>
<span class=tag><a href=https://sequr.be/tags/door-sensor/>door sensor</a></span>
<span class=tag><a href=https://sequr.be/tags/window-sensor/>window sensor</a></span>
<span class=tag><a href=https://sequr.be/tags/zigbee/>Zigbee</a></span></p><p><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/></svg>
<span class=tag><a class=p-category href=https://sequr.be/categories/home-automation/>Home Automation</a></span></p><p><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
1204 Words</p><p><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
<time class=dt-published datetime=2020-11-12T16:00:00+00:00>2020-11-12
</time>(Last updated: <time class=dt-updated datetime=2021-01-26T21:00:00+00:00>2021-01-26</time>)</p><p><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user"><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
<span rel=author class="p-author h-card">DezeStijn</span></p></div><hr><div class=sharing-buttons><a class=resp-sharing-button__link href=https://ko-fi.com/s4squatch target=_blank rel=noopener aria-label title="Buy me a coffee"><div class="resp-sharing-button resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentcolor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M23.881 8.948c-.773-4.085-4.859-4.593-4.859-4.593H.723c-.604.0-.679.798-.679.798s-.082 7.324-.022 11.822c.164 2.424 2.586 2.672 2.586 2.672s8.267-.023 11.966-.049c2.438-.426 2.683-2.566 2.658-3.734 4.352.24 7.422-2.831 6.649-6.916zm-11.062 3.511c-1.246 1.453-4.011 3.976-4.011 3.976s-.121.119-.31.023c-.076-.057-.108-.09-.108-.09-.443-.441-3.368-3.049-4.034-3.954-.709-.965-1.041-2.7-.091-3.71.951-1.01 3.005-1.086 4.363.407.0.0 1.565-1.782 3.468-.963 1.904.82 1.832 3.011.723 4.311zm6.173.478c-.928.116-1.682.028-1.682.028V7.284h1.77s1.971.551 1.971 2.638c0 1.913-.985 2.667-2.059 3.015z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fsequr.be%2fblog%2f2020%2f11%2fadding-xiaomi-aqara-door-and-window-sensor-to-ha-via-deconz-conbee-ii%2f" target=_blank rel=noopener aria-label title="Share on facebook"><div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://twitter.com/intent/tweet/?url=https%3a%2f%2fsequr.be%2fblog%2f2020%2f11%2fadding-xiaomi-aqara-door-and-window-sensor-to-ha-via-deconz-conbee-ii%2f" target=_blank rel=noopener aria-label title="Share on twitter"><div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://reddit.com/submit/?url=https%3a%2f%2fsequr.be%2fblog%2f2020%2f11%2fadding-xiaomi-aqara-door-and-window-sensor-to-ha-via-deconz-conbee-ii%2f&amp;resubmit=true&amp;title=Adding%20Xiaomi%20Aqara%20Door%20and%20Window%20Sensor%20to%20HA%20via%20deCONZ%20%28ConBee%20II%29" target=_blank rel=noopener aria-label title="Share on reddit"><div class="resp-sharing-button resp-sharing-button--reddit resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentcolor" stroke="none"><path d="M12 0A12 12 0 000 12a12 12 0 0012 12 12 12 0 0012-12A12 12 0 0012 0zm5.01 4.744c.688.0 1.25.561 1.25 1.249a1.25 1.25.0 01-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968.0 1.754.786 1.754 1.754.0.716-.435 1.333-1.01 1.614a3.111 3.111.0 01.042.52c0 2.694-3.13 4.87-7.004 4.87s-7.004-2.176-7.004-4.87c0-.183.015-.366.043-.534A1.748 1.748.0 014.028 12c0-.968.786-1.754 1.754-1.754.463.0.898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342.0 01.14-.197.35.35.0 01.238-.042l2.906.617a1.214 1.214.0 011.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687.0 1.248-.561 1.248-1.249S9.937 12 9.249 12zm5.5.0c-.687.0-1.248.561-1.248 1.25.0.687.561 1.248 1.249 1.248S16 13.937 16 13.249c0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327.0 00-.231.094.33.33.0 000 .463c.842.842 2.484.913 2.961.913s2.105-.056 2.961-.913a.361.361.0 00.029-.463.33.33.0 00-.464.0c-.547.533-1.684.73-2.512.73-.828.0-1.979-.196-2.512-.73a.326.326.0 00-.232-.095z"/></svg></div></div></a><a class=resp-sharing-button__link href="mailto:?subject=Adding%20Xiaomi%20Aqara%20Door%20and%20Window%20Sensor%20to%20HA%20via%20deCONZ%20%28ConBee%20II%29&amp;body=https%3a%2f%2fsequr.be%2fblog%2f2020%2f11%2fadding-xiaomi-aqara-door-and-window-sensor-to-ha-via-deconz-conbee-ii%2f" target=_self rel=noopener aria-label title="Share via email"><div class="resp-sharing-button resp-sharing-button--email resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></div></div></a></div><div class=pagination><div class=pagination__buttons><span class="button previous"><a href=https://sequr.be/blog/2020/11/force-update/downgrade-shelly-firmware/><span class=button__icon>←</span>
<span class=button__text>Force update/downgrade Shelly firmware</span>
</a></span><span class="button next"><a href=https://sequr.be/blog/2020/10/mqtt-templates-for-shelly-devices/><span class=button__text>MQTT templates for Shelly devices</span>
<span class=button__icon>→</span></a></span></div></div></main></div><footer class=footer><div class=footer__inner><div class=footer__content><span>&copy; 2019</span>
<span><a class=h-card rel=me href=https://sequr.be/>DezeStijn</a></span>
<span><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank rel=noopener>CC BY-NC-SA 4.0</a></span>
<span><a href=https://sequr.be/blog/index.xml target=_blank title=rss><svg width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></span></div></div></footer></div><script type=text/javascript src=https://sequr.be/bundle.min.e89fda0f29b95d33f6f4224dd9e5cf69d84aff3818be2b0d73e731689cc374261b016d17d46f8381962fb4a1577ba3017b1f23509d894f6e66431f988c00889e.js integrity="sha512-6J/aDym5XTP29CJN2eXPadhK/zgYvisNc+cxaJzDdCYbAW0X1G+DgZYvtKFXe6MBex8jUJ2JT25mQx+YjACIng=="></script></body></html>